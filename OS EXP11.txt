#include <stdio.h> 

#include <stdlib.h> 

#include <pthread.h> 

 

// Thread function 

void* print_message(void* thread_id) { 

    int tid = *((int*)thread_id); 

    printf("Hello from Thread %d\n", tid); 

    pthread_exit(NULL); 

} 

 

int main() { 

    pthread_t threads[3]; 

    int thread_ids[3] = {1, 2, 3}; 

    int status; 

 

    // Creating 3 threads 

    for (int i = 0; i < 3; i++) { 

        printf("Creating Thread %d\n", thread_ids[i]); 

        status = pthread_create(&threads[i], NULL, print_message, (void*)&thread_ids[i]); 

 

        if (status != 0) { 

            printf("Error: Unable to create thread %d\n", thread_ids[i]); 

            exit(-1); 

        } 

    } 

 

    // Joining threads 

    for (int i = 0; i < 3; i++) { 

        pthread_join(threads[i], NULL); 

    } 

 

    printf("All threads completed. Exiting main program.\n"); 

    return 0; 

}   